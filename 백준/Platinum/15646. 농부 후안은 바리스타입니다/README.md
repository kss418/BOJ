# [Platinum IV] 농부 후안은 바리스타입니다 - 15646 

[문제 링크](https://www.acmicpc.net/problem/15646) 

### 성능 요약

메모리: 186932 KB, 시간: 352 ms

### 분류

자료 구조, 세그먼트 트리, 차분 배열 트릭, 다차원 세그먼트 트리

### 제출 일자

2025년 11월 18일 19:40:52

### 문제 설명

<p>농부 후안은 바리스타입니다. 후안은 <i>N</i> × <i>M</i> 크기의 커피 농장을 소유하고 있습니다. 후안은 <em>Q</em>번 농장에 씨앗을 심거나 심은 씨앗의 영양의 합을 확인할 것입니다. 후안은 자신의 농장을 관리해줄 자동화 시스템이 필요합니다. 후안을 도와줍시다. 프로그램은 다음과 같은 두 동작을 수행해야 합니다.</p>

<ul>
	<li>씨앗 심기 : x 좌표가 [<em>x<sub>1</sub></em>,<em>x<sub>2</sub></em>]에 포함되고 y 좌표가 [<em>y<sub>1</sub></em>,<em>y<sub>2</sub></em>]에 포함되는 모든 위치에 영양이 <em>d</em>인 씨앗을 1개 심습니다.</li>
	<li>씨앗 개수 확인하기 : (<em>x</em>,<em>y</em>) 위치에 심은 씨앗의 영양의 합을 확인합니다.</li>
</ul>

### 입력 

 <p><em>N</em>, <em>M</em>, <em>Q</em>가 첫 줄에 주어집니다. (1 ≤ <i>N</i>, <i>M</i> ≤ 5000, 0 ≤ <i>Q</i> ≤ 2 × 10<sup>5</sup>)</p>

<p><em>Q</em>개의 줄 동안 수행해야 하는 동작이 주어집니다.</p>

<p>첫 번째로 주어지는 숫자가 1이면 이는 씨앗을 심는 동작임을 뜻하며, 5개의 수 x<sub>1</sub>, y<sub>1</sub>, x<sub>2</sub>, y<sub>2</sub>, d가 주어집니다. (1 ≤ <i>x</i><sub>1</sub> ≤ <i>x</i><sub>2</sub> ≤ <i>N</i>, 1 ≤ <i>y</i><sub>1</sub> ≤ <i>y</i><sub>2</sub> ≤ <i>M</i>,  - 10<sup>9</sup> ≤ <i>d</i> ≤ 10<sup>9</sup>)</p>

<p>첫 번째로 주어지는 숫자가 2이면 이는 씨앗의 영양의 합을 확인하는 동작임을 뜻하며, 2개의 수 <em>x</em>와 <em>y</em>가 주어집니다. (1 ≤ <i>x</i> ≤ <i>N</i>, 1 ≤ <i>y</i> ≤ <i>M</i>)</p>

### 출력 

 <p>모든 씨앗 개수를 확인하는 동작에 대해, 각각의 결과를 한 줄마다 출력합니다.</p>

