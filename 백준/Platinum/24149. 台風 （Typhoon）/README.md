# [Platinum III] 台風 (Typhoon) - 24149 

[문제 링크](https://www.acmicpc.net/problem/24149) 

### 성능 요약

메모리: 35032 KB, 시간: 212 ms

### 분류

값 / 좌표 압축, 자료 구조, 오프라인 쿼리, 세그먼트 트리

### 제출 일자

2025년 11월 24일 15:38:03

### 문제 설명

<p>台風による被害を受けやすいある一直線の道がある．この道での台風による被害は，必ず連 続した一つの区間である．この道には，道に沿って k 個の観測地点があり，道の一方の端点に 近い観測地点から順に 1 から k まで番号がつけられている．</p>

<p>この道に被害を加えた n 個の台風の記録がある．台風 i 号についての記録は，台風 i 号による 被害を受けた観測地点のうち，最も番号の小さい観測地点の番号 a<sub>i</sub> と，最も番号の大きい観測 地点の番号 b<sub>i</sub> という形で記録されている．台風には，古いものから順に 1 号から n 号まで番号 がつけられている．</p>

<p>最近，この道での台風による被害を研究することが気象学の大きな進歩に繋がることが分か り，研究を進めるため，「観測地点 p<sub>j</sub> が q<sub>j</sub> 号から r<sub>j</sub> 号までの台風のうち何個の台風により被害 を受けたか」という情報が m 個必要となった．</p>

<p>台風の記録と，研究を進めるために情報が必要とされる，観測地点と台風の番号の範囲の組 （以降これをクエリーと呼ぶ）が与えられたとき，それぞれのクエリーについて，被害を与えた 台風の個数を出力するプログラムを作成せよ．</p>

### 입력 

 <p>入力の 1 行目には，3 つの整数 n, m, k が空白を区切りとして書 かれている．これらは，記録にある台風の数が n 個，与えられるクエリーの数が m 個，観測地 点の数が k 個であることを表す．1 ≤ n, m ≤ 100, 000，1 ≤ k ≤ 1, 000, 000, 000 を満たす．</p>

<p>1 + i 行目 (1 ≤ i ≤ n) には，2 つの整数 a<sub>i</sub>, b<sub>i</sub> が空白を区切りとして書かれている．これらは， 台風 i 号の被害を受けた観測地点の，最も番号の小さい観測地点の番号が a<sub>i</sub>，最も番号の大き い観測地点の番号が b<sub>i</sub> であることを表す．1 ≤ a<sub>i</sub> ≤ b<sub>i</sub> ≤ k を満たす．</p>

<p>1 + n + j 行目 (1 ≤ j ≤ m) には，3 つの整数 p<sub>j</sub>, q<sub>j</sub>, r<sub>j</sub> が空白を区切りとして書かれている． これらは，j 番目のクエリーの，地点の番号が p<sub>j</sub> で，台風の番号の範囲が q<sub>j</sub> から r<sub>j</sub> までである ことを表す．1 ≤ p<sub>j</sub> ≤ k，1 ≤ q<sub>j</sub> ≤ r<sub>j</sub> ≤ n を満たす．</p>

### 출력 

 <p>出力は，標準出力に行うこと．与えられたクエリーについて，被害を与えた台風の 個数を与えられた順に改行区切りで出力せよ．つまり，j 行目 (1 ≤ j ≤ m) に観測地点 p<sub>j</sub> が q<sub>j</sub> 号から r<sub>j</sub> 号までの台風のうち何個の台風により被害を受けたかを表す 1 つの整数を出力せよ．</p>

