# [Platinum V] 막대기 - 8984 

[문제 링크](https://www.acmicpc.net/problem/8984) 

### 성능 요약

메모리: 14220 KB, 시간: 116 ms

### 분류

값 / 좌표 압축, 다이나믹 프로그래밍, 정렬

### 제출 일자

2025년 2월 7일 02:51:08

### 문제 설명

<p>다양한 길이의 막대기를 가지고 즐길 수 있는 게임이 있다. 게임을 시작하기 전에 간격이 L인 두 개의 평행한 수평선을 책상 위에 긋고, 막대기의 양 끝이 각 수평선에 하나씩 위치하도록 놓는다. 여러 개의 막대기 끝이 수평선 위의 한 점에서 만날 수는 있지만, 두 막대기가 완전히 겹쳐져 있는 경우는 없다. 놓여 있는 각 막대기는 (t, d)로 표현된다. 여기서 t는 위쪽 수평선에서의 좌표이고 d는 아래쪽 수평선에서의 좌표이다. 아래 그림 1에서 막대기 a는 (1, 0), 막대기 b는 (6, 0)으로 표시된다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/e42a7cd7-e094-4df0-8388-b9deb74cc1c0/-/preview/" style="width: 275px; height: 109px;"></p>

<p>게임은 책상에 놓여 있는 막대기들 중 일부를 들어내어 남아 있는 막대기들이 다음의 세 조건을 모두 만족하는 하나의 지그재그 선이 구성되도록 하는 것이다: (1) 막대기들은 끝점을 제외하곤 서로 교차하지 않는다. (2) 세 개 이상의 막대기 끝이 한 점에서 만나지 않는다. (3) 모든 막대기는 연결되어 있다. </p>

<p>이 게임의 승자는 길이가 가장 긴 지그재그 선을 만든 사람이다. 지그재그 선의 길이는 막대기 길이들의 합이며, 각 막대기의 길이는 양 끝점의 수평 거리와 수직 거리를 더한 값으로 계산한다. 즉, 막대기 (t, d)의 수평 거리는 t와 d 사이의 절댓값 |t-d|이고, 수직 거리는 두 수평선 사이의 간격인 L이다. 위 그림에서 각 막대기의 길이는 다음과 같다.</p>

<table class="table table-bordered table-center-30 td-center th-center">
	<thead>
		<tr>
			<th style="width: 9%;">막대기</th>
			<th style="width: 3%">a</th>
			<th style="width: 3%">b</th>
			<th style="width: 3%">c</th>
			<th style="width: 3%">d</th>
			<th style="width: 3%">e</th>
			<th style="width: 3%">f</th>
			<th style="width: 3%">g</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>길이</th>
			<td>4</td>
			<td>9</td>
			<td>6</td>
			<td>4</td>
			<td>4</td>
			<td>7</td>
			<td>3</td>
		</tr>
	</tbody>
</table>

<p>예를 들면, 그림 1에서 막대기 a, b, e 만 남겨진 경우는 세 조건을 모두 만족하는 지그재그 선이 며, 길이는 17 = 4+9+4 이다. 막대기 c, e 만 남겨진 경우도 세 조건을 모두 만족하는 지그재그 선이며, 길이는 10 = 6+4 이다. 막대기 b, c 만 남겨진 경우는 조건 (1)에 위배되고, 막대기 c, d, e 만 남겨진 경우는 조건 (2)에 위배되고, 막대기 a, b, g 만 남겨진 경우는 조건 (3)에 위배된다. 길이가 가장 긴 지그재그 선은 막대기 c, d, f, g로 구성되며, 길이는 20 = 6+4+7+3 이다. </p>

<p>막대기들의 초기 상태가 주어져 있을 때, 가장 긴 지그재그 선의 길이를 구하기 위한 프로그램을 작성하시오.</p>

### 입력 

 <p>첫 줄에는 막대기의 개수와 수평선 사이의 간격을 나타내는 두 개의 정수 N과 L이 주어진다. 여기서 N은 1 이상 100,000 이하이고, L은 1 이상 1,000,000 이하이다. 그 다음 N 개의 줄에는 각 줄마다 막대기 (t, d)를 나타내는 두 개의 정수 t와 d가 빈칸을 사이에 두고 주어진다. 여기서 t와 d는 각각 0 이상 100,000,000 이하이다. 입력으로 들어오는 막대기들 중 어떤 두 막대기도 완전히 겹쳐져 있는 경우는 없다.</p>

### 출력 

 <p>주어진 입력에 대해 길이가 가장 긴 지그재그 선의 길이를 한 줄에 출력한다. </p>

