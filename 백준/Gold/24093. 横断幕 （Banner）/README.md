# [Gold III] 横断幕 (Banner) - 24093 

[문제 링크](https://www.acmicpc.net/problem/24093) 

### 성능 요약

메모리: 14836 KB, 시간: 128 ms

### 분류

조합론, 수학, 누적 합

### 제출 일자

2025년 12월 2일 14:01:04

### 문제 설명

<p>20XX 年，ついに IOI が JOI 国で開催されることになった．JOI 国ではこれを祝い，街中に歓迎の横断幕 (banner) をかけることにした．JOI 国では，図のように，東西方向に走る H 本の道路と，南北方向に走る W 本の道路が碁盤目状に通っている．東西方向に走る道路と南北方向に走る道路が交わるところを交差点 と呼ぶ．北から a 番目，西から b 番目の交差点を (a, b) で表す．</p>

<p>各交差点にはそれぞれ柱が 1 本ずつ立っている．JOI 国には国を象徴する色が黒色・灰色・白色の 3 色あ り，各柱はこの 3 色のうちのどれか 1 色で塗られている．</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/5eb2b569-9b87-418d-9cb3-672f7f1c78d2/-/preview/" style="width: 213px; height: 139px;"></p>

<p style="text-align: center;">図: JOI 国の図 (H = 3, W = 4 の場合)．図の上が北，左が西に対応する．</p>

<p>横断幕はこれらの柱を支柱としてかけることができる．ただし，横断幕が道路でないところを通ってい ると邪魔になってしまう．そこで，交差点に立っているこれらの柱のうち，「各辺がいずれかの道路と平行 であるような長方形」の 4 頂点となっているような異なる 4 本の柱を選び，その周囲に横断幕をかける．さ らに，このとき選ぶ 4 本の柱に黒色の柱・灰色の柱・白色の柱がそれぞれ 1 つ以上含まれているようにし たい．</p>

<p>このような 4 本の柱の選び方は何通りあるだろうか．</p>

<p>H, W と，JOI 国に立っている柱の色の情報が与えられたとき，4 本の柱の選び方の数を出力するプログ ラムを作成せよ．</p>

### 입력 

 <p>標準入力から以下の入力を読み込め．</p>

<ul>
	<li>1 行目には整数 H, W が空白を区切りとして書かれている．</li>
	<li>続く H 行には，JOI 国の交差点に立っている柱の色の情報が書かれている．i + 1 行目 (1 ≤ i ≤ H) に は，0, 1, 2 いずれかの整数が W 個空白区切りで書かれている．i + 1 行目の j 番目に書かれている整 数が 0 なら，交差点 (i, j) に立っている柱が黒色であることを表し，同様に，書かれている整数が 1 なら灰色，2 なら白色であることを表す．</li>
</ul>

### 출력 

 <p>標準出力に，4 本の柱の選び方の数を 1 行で出力せよ．</p>

