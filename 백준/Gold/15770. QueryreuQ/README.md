# [Gold II] QueryreuQ - 15770 

[문제 링크](https://www.acmicpc.net/problem/15770) 

### 성능 요약

메모리: 400724 KB, 시간: 624 ms

### 분류

다이나믹 프로그래밍

### 제출 일자

2024년 10월 24일 16:42:22

### 문제 설명

<p>어떠한 문자열에 대해서, 이 문자열을 뒤집어도 같은 문자열이 나온다 이 문자열을 <strong>팰린드롬</strong>이라 부른다. 예를 들어, "a", "aa", "appa", "queryreuq"와 같은 문자열은 모두 팰린드롬이다.</p>

<p>당신은 빈 문자열 <em>S</em>가 있을 때, 두 가지 연산을 처리해야 한다.</p>

<ol>
	<li><em>S</em>의 맨 뒤에 알파벳 소문자를 하나 추가한다.</li>
	<li><em>S</em>의 맨 뒤에 있는 문자를 제거한다.</li>
</ol>

<p>각각의 연산을 처리한 후, 당신은 해당 문자열에 있는 <strong>팰린드롬 부분문자열</strong>의 개수를 세어야 한다. 문자열 <em>S</em>와 1 ≤ <em>i</em> ≤ <em>j</em> ≤ |<em>S</em>|인 정수 <em>i</em>, <em>j</em>에 대해서, <em>S</em>[<em>i</em>, <em>j</em>]를 <em>S</em>의 <em>i</em>번째 문자부터 <em>j</em>번째 문자까지를 포함하는 부분문자열 이라고 정의하자. 당신은 S[i, j]가 팰린드롬인 모든 정수쌍 (<em>i</em>, <em>j</em>)의 개수를 세어서, 이를 출력하여야 한다.</p>

### 입력 

 <p>입력은 두개의 줄로 되어있다.</p>

<p>첫 번째 줄에 쿼리의 개수 <em>Q</em>가 주어진다.</p>

<p>두번째 줄에 쿼리가 길이 <em>Q</em>의 문자열로 주어진다. 이 중 <em>i</em>번째 문자 <em>K<sub>i</sub></em>는 <em>i</em>번째 쿼리의 내용을 나타낸다.</p>

<p><em>K<sub>i</sub></em>는 '<code>-</code>' 이거나, 영어 소문자 ('<code>a</code>', '<code>b</code>', ..., '<code>z</code>') 중에 하나이다. (따옴표는 제외한다.)</p>

<p>만약 이 문자가 '<code>-</code>'이라면, <em>S</em>의 맨 뒤의 문자를 제거해야 하며, 영어 소문자라면 <em>S</em>의 맨 뒤에 <em>K<sub>i</sub></em>를 삽입해야 한다.</p>

<p>각 쿼리를 처리한 이후 문자열의 길이가 항상 1 이상이 보장된다.    </p>

### 출력 

 <p>한 줄에 <em>Q</em>개의 정수를 하나의 공백으로 구분하여 출력한다. 이 중 <em>i</em>번째 정수는 <em>i</em>번째 쿼리에 대한 정답을 의미한다.</p>

