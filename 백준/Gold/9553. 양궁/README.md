# [Gold IV] 양궁 - 9553 

[문제 링크](https://www.acmicpc.net/problem/9553) 

### 성능 요약

메모리: 2036 KB, 시간: 0 ms

### 분류

기하학, 기댓값의 선형성, 수학, 확률론

### 제출 일자

2024년 11월 20일 21:11:54

### 문제 설명

<p>강산이는 2012년 런던 올림픽을 본 이후로 취미로 양궁을 하게 되었다.</p>

<p>하지만 생각만큼 양궁은 쉬운 스포츠가 아니었다.</p>

<p>좀처럼 잘 되지 않자 강산이는 좀 더 쉽게 할 수 있는 새로운 양궁을 생각해냈다.</p>

<p>새로운 양궁의 규칙은 다음과 같다.</p>

<ul>
	<li>플레이어는 관통력이 무한하며, 영원히 날아가는 화살을 발사한다.</li>
	<li>플레이어의 주변엔 타겟 여러 개가 직선 형태로 놓여 있다. 각 타겟은 교차하거나 겹칠 수도 있다. 단, 플레이어가 타겟 위에 서 있는 경우는 없다.</li>
</ul>

<p> </p>

<p><img src="https://www.acmicpc.net/upload/images2/archery.png"></p>

<p>위는 두 개의 타겟이 있는 게임의 예시이다. 플레이어는 원점에서 화살을 쏜다.</p>

<p>각 선수는 어떤 방향으로든 화살을 발사할 수 있다. 예를 들어 위 그림의 경우, 플레이어가 s방향으로 화살을 쏜다면 타겟 T1과 T2 모두를 관통하게 된다. 이 예제에서, 플레이어가 두 개의 타겟을 노릴 수 있는 영역은 한 군데이며, 한 개의 타겟을 노릴 수 있는 영역은 두 군데임을 알 수가 있다. 각 타겟의 끝점을 스치는 화살도 타겟을 관통한 것으로 친다.</p>

<p>강산이는 이 양궁이 아주 마음에 들었다. 특히나, 어떤 선수가 화살을 쏠 때 과연 몇 개의 타겟을 맞힐 수 있을 지를 계산하는 것이 아주 재미있었다.</p>

<p>강산이의 즐거움을 여러분도 체험하기 위해, 각 타겟의 시작점과 끝점이 주어질 때 화살 한 발로 맞힐 수 있는 타겟 수의 기댓값을 구해보도록 하자.</p>

### 입력 

 <p>첫 줄에 테스트 케이스의 수 T가 주어진다. ( 1 ≤ T ≤ 100 )</p>

<p>각 테스트 케이스의 첫 줄엔 타겟의 수 N이 주어진다. ( 1 ≤ N ≤ 100 )</p>

<p>이어 N줄에 걸쳐 네 개의 정수 X <sub>1</sub> Y<sub>1</sub> X<sub>2</sub> Y<sub>2</sub>가 주어진다. 이는 타겟이 (X<sub>1</sub>, Y<sub>1</sub>)에서 시작하여 (X<sub>2</sub>, Y<sub>2</sub>)에서 끝나는 선분의 형태로 놓여 있음을 의미한다. ( -100 ≤ X<sub>1</sub>, Y<sub>1</sub>, X<sub>2</sub>,Y<sub>2</sub> ≤ 100 )</p>

### 출력 

 <p>각 테스트 케이스마다 화살 한 발로 맞힐 수 있는 타겟 수의 기댓값을 소수점 여섯 번째 자리에서 반올림하여 다섯 번째 자리까지 출력한다.</p>

