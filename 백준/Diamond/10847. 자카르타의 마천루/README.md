# [Diamond IV] 자카르타의 마천루 - 10847 

[문제 링크](https://www.acmicpc.net/problem/10847) 

### 성능 요약

메모리: 178460 KB, 시간: 236 ms

### 분류

데이크스트라, 그래프 이론, 최단 경로

### 제출 일자

2025년 7월 9일 21:36:58

### 문제 설명

<p>자카르타 시에는 <em>N</em>개의 큰 빌딩이 일직선 위에 위치하고 있다. 이들은 왼쪽부터 0, 1, ..., <em>N</em> - 1까지 번호가 붙어 있다. 자카르타에는 이들 말고 다른 큰빌딩은 없다.</p>

<p>자카르타에는 "도게"라고 불리는 신비한 생명체들이 살고 있다. 도게들은 0, 1, ..., <em>M</em> - 1 까지 번호가 붙어 있다. 도게 <em>i</em>는 최초에 빌딩 <em>B</em><sub><em>i</em></sub>에 위치하고 있다. 도게 <em>i</em>가 가진 신비한 힘은 그 능력치가 양의 정수 <em>P</em><sub><em>i</em></sub>로 표시된다. 도게는 이 신비한 힘으로 큰 빌딩들 간에 점프를 할 수 있다. 큰 빌딩 <em>b</em>에 있는 능력치가 <em>p</em>인 도게는 한번의 점프로 큰빌딩 <em>b</em> + <em>p</em>(0 ≤ <em>b</em> + <em>p</em> < <em>N</em>이라야 함) 혹은 큰빌딩 <em>b</em> - <em>p</em>(0 ≤ <em>b</em> - <em>p</em> < <em>N</em>이라야 함)로 이동할 수 있다.</p>

<p>도게 0이 가장 대단한 도게이며 모든 도게들의 지도자이다. 도게 0은 급한 소식이 있어 이 소식을 도게 1에게 전해야 한다. 물론 가장 빨리 소식이 전해지기를 바란다. 뉴스를 전해 들은 도게는 다음의 두가지 중 하나를 할 수 있다.</p>

<ul>
	<li>다른 큰 빌딩으로 점프.</li>
	<li>현재 위치한 빌딩의 다른 도게에게 소식을 전달</li>
</ul>

<p>도게들을 도와주는 프로그램을 작성해야 한다. 이 프로그램은 소식을 도게 1에게 전할 수 있는 최소한의 점프 횟수를 계산해야 한다. 만약 소식을 전달하는 것이 불가능한 경우라면 그것도 알아내야 한다.</p>

### 입력 

 <p>입력의 첫 줄에는 정수 <em>N</em>과 <em>M</em>이 주어진다. 이후 <em>M</em>개의 줄에는 두 자연수 <em>B</em><sub><em>i</em></sub>와 <em>P</em><sub><em>i</em></sub>가 주어진다.</p>

<ul>
	<li>0 ≤ B<sub>i</sub> < N</li>
	<li>1 ≤ N ≤ 30, 000</li>
	<li>1 ≤ P<sub>i</sub> ≤ 30, 000</li>
	<li>2 ≤ M ≤ 30, 000</li>
</ul>

### 출력 

 <p>출력은 단 한 줄이며, 최소의 점프 횟수라야 한다. 불가능한 경우 -1을 출력한다.</p>

